# JVM虚拟机技术
## 1、选择正确的垃圾收集器有多么重要

[Oracle官方](https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/introduction.html)向我们描述了一个非常理想的系统建模，在在应对垃圾回收时对系统吞吐量的影响。若仅将1%的时间用于单处理器系统上的垃圾回收拓展至32个处理器，，系统的吞吐量损失将超过20%。对于垃圾回收占10%的应用程序，将其拓展至32个处理器时，系统的吞吐量将损失75%以上。如下图所示：

![Description of Figure 1-1 follows](https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/img/jsgct_dt_005_gph_pc_vs_tp.png)

根据`amdahl定律`，特定问题中并行加速受问题顺序部分的限制，绝大多数工作的负载是不能完全并行化的，某些部分始终是串行的，并不会从并行中收益。对于1.4版本以前的JVM更是如此。

故我们在开发小型系统时，速度可以忽略不计的问题，可能会成为拓展到大型系统时的主要瓶颈。对于足够大的系统，选择正确的垃圾收集器，就变得至关重要。

串行收集器通常适用于大多数 "小型" 应用程序 (那些需要高达大约100兆字节的堆 (mb (在现代处理器上) 的应用程序。其他收集器具有额外的开销或复杂性, 这是专门行为的代价。如果应用程序不需要备用收集器的专用行为, 请使用串行收集器。串行收集器不应成为最佳选择的一种情况是在具有大量内存和两个或多个处理器的计算机上运行的大型、大量线程化的应用程序。在此类服务器类计算机上运行应用程序时, 默认情况下选择并行收集器。

## 2、优化

### 2.1、

### 2.2、基于行为的优化

#### 2.2.1、最大暂停时间

#### 2.2.2、吞吐量

#### 2.2.3、内存占用

### 2.3、调优策略

#### 2.3.1、