## 系统命令

### 1、查询端口占用

```shell
# 查询8080端口的占用情况
netstat -tunlp | grep 8080
```

### 2、查看开机启动项

```shell
# 查看所有开机启动项
systemctl list-unit-files
# 查看MySQL是否开机启动
systemctl list-unit-files | grep mysql
# 查看所有开机启动项
systemctl list-unit-files | grep enabled
```

### 3、查看系统负载

系统平均负载被定义为在特定时间间隔内运行队列中的平均进程数。如果一个进程满足以下条件则其就会位于运行队列中：

- 它没有在等待I/O操作的结果
- 它没有主动进入等待状态(也就是没有调用'wait')
- 没有被停止(例如：等待终止)

一般来说，每个CPU内核当前活动进程数不大于3，则系统运行表现良好！当然这里说的是每个cpu内核，也就是如果你的主机是四核cpu的话，那么只要uptime最后输出的一串字符数值小于12即表示系统负载不是很严重.当然如果达到20，那就表示当前系统负载非常严重，估计打开执行web脚本非常缓慢.

#### 3.1、uptime

```shell
uptime
# 输出如下
 19:30:12 up 11 days,  8:22,  8 users,  load average: 0.02, 0.04, 0.05
# 当前时间 19:30:12
# 启动了 11天8:22
# 当前在线用户8个
# 最近1分钟负载0.02，最近5分钟负载0.04，最近15分钟负载0.05
```

#### 3.2、vmstat

```shell
# 每3秒收集一次，收集20次
vmstat 3 20
# 输出如下
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 1  0  34816 330000   4172 1362916    0    0     0     7    6   10  0  0 99  0  0
 0  0  34816 330000   4172 1362920    0    0     0    11  820 1442  0  0 99  0  0
 0  0  34816 330000   4172 1362924    0    0     0     0  805 1425  0  0 99  0  0
 0  0  34816 330000   4172 1362928    0    0     0    13  791 1403  0  0 99  0  0
 0  0  34816 330000   4172 1362932    0    0     0     6  825 1436  0  0 100  0  0
 0  0  34816 330000   4172 1362936    0    0     0     0  840 1445  0  0 99  0  0
 0  0  34816 330000   4172 1362940    0    0     0    13  826 1465  0  0 99  0  0
 0  0  34816 330000   4172 1362944    0    0     0     0  809 1432  0  0 99  0  0
 0  0  34816 330000   4172 1362948    0    0     0    35  839 1457  0  0 99  0  0
 0  0  34816 330000   4172 1362956    0    0     0   110  848 1464  0  0 99  0  0
 0  0  34816 330000   4172 1362960    0    0     0     3  839 1409  0  0 99  0  0
 0  0  34816 330000   4172 1362964    0    0     0    11  801 1403  0  0 99  0  0
 0  0  34816 330000   4172 1362968    0    0     0     2  830 1432  1  0 99  0  0
 0  0  34816 330000   4172 1362972    0    0     0     7  800 1393  0  0 99  0  0
 0  0  34816 330000   4172 1362976    0    0     0     6  816 1408  0  0 99  0  0
 0  0  34816 330000   4172 1362980    0    0     0     6  855 1436  1  0 99  0  0
 0  0  34816 330000   4172 1362984    0    0     0     7  787 1388  0  0 99  0  0
 0  0  34816 330124   4172 1362988    0    0     0     4  826 1408  0  0 99  0  0
 0  0  34816 330124   4172 1362992    0    0     0    35  785 1381  0  0 99  0  0
 0  0  34816 330124   4172 1362996    0    0     0    21  826 1407  0  0 100  0  0
```

#### 3.3、sar

##### 3.3.1、安装

```shell
yum install sysstat
```

##### 3.3.2、使用

```shell

```